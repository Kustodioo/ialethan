"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/enviar-mensagem";
exports.ids = ["pages/api/enviar-mensagem"];
exports.modules = {

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "whatsapp-web.js":
/*!**********************************!*\
  !*** external "whatsapp-web.js" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("whatsapp-web.js");

/***/ }),

/***/ "libphonenumber-js":
/*!************************************!*\
  !*** external "libphonenumber-js" ***!
  \************************************/
/***/ ((module) => {

module.exports = import("libphonenumber-js");;

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenviar-mensagem&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cenviar-mensagem.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenviar-mensagem&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cenviar-mensagem.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_enviar_mensagem_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\enviar-mensagem.ts */ \"(api)/./pages/api/enviar-mensagem.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_enviar_mensagem_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_enviar_mensagem_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_enviar_mensagem_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_enviar_mensagem_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/enviar-mensagem\",\n        pathname: \"/api/enviar-mensagem\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_enviar_mensagem_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmVudmlhci1tZW5zYWdlbSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZW52aWFyLW1lbnNhZ2VtLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzZEO0FBQzdEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZWxpZ2VuY2lhYXJ0aWZpY2lhbGdydXBvbGV0aGFuLz85ZjRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZW52aWFyLW1lbnNhZ2VtLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZW52aWFyLW1lbnNhZ2VtXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZW52aWFyLW1lbnNhZ2VtXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenviar-mensagem&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cenviar-mensagem.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/enviar-mensagem.ts":
/*!**************************************!*\
  !*** ./pages/api/enviar-mensagem.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! libphonenumber-js */ \"libphonenumber-js\");\n/* harmony import */ var whatsapp_web_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! whatsapp-web.js */ \"whatsapp-web.js\");\n/* harmony import */ var whatsapp_web_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(whatsapp_web_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_whatsappClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/whatsappClient */ \"(api)/./utils/whatsappClient.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([libphonenumber_js__WEBPACK_IMPORTED_MODULE_1__]);\nlibphonenumber_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n// Configuração do multer\nconst upload = multer__WEBPACK_IMPORTED_MODULE_0___default()({\n    dest: \"/tmp\"\n});\n// Função para gerar um atraso aleatório entre 5 e 10 minutos (em milissegundos)\nconst atrasoAleatorio = ()=>{\n    return Math.floor(Math.random() * (600000 - 300000 + 1) + 300000); // 300000ms = 5min, 600000ms = 10min\n};\n// Função de espera bloqueante\nconst esperaBloqueante = (ms)=>{\n    const inicio = Date.now();\n    while(Date.now() - inicio < ms){\n    // Espera ativamente\n    }\n};\nasync function enviarMensagemComAtraso(cliente, mensagem, media) {\n    try {\n        const phoneNumber = (0,libphonenumber_js__WEBPACK_IMPORTED_MODULE_1__.parsePhoneNumber)(cliente.numero, \"BR\");\n        if (!phoneNumber || !phoneNumber.isValid()) {\n            throw new Error(`Número de telefone inválido: ${cliente.numero}`);\n        }\n        const formattedNumber = phoneNumber.format(\"E.164\").slice(1);\n        const mensagemFinal = mensagem.replace(\"{link}\", cliente.link);\n        const client = await (0,_utils_whatsappClient__WEBPACK_IMPORTED_MODULE_5__.initialize)();\n        if (media) {\n            await client.sendMessage(`${formattedNumber}@c.us`, media, {\n                caption: mensagemFinal\n            });\n        } else {\n            await client.sendMessage(`${formattedNumber}@c.us`, mensagemFinal);\n        }\n        console.log(`Mensagem enviada para ${cliente.nome} (${formattedNumber}) em ${new Date().toISOString()}`);\n        const atraso = atrasoAleatorio();\n        console.log(`Aguardando ${atraso / 60000} minutos antes do próximo envio. Hora atual: ${new Date().toISOString()}`);\n        esperaBloqueante(atraso);\n        console.log(`Espera concluída. Hora atual: ${new Date().toISOString()}`);\n    } catch (error) {\n        console.error(`Erro ao enviar mensagem para ${cliente.nome}:`, error);\n    }\n}\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const multerMiddleware = upload.single(\"imagem\");\n        multerMiddleware(req, res, async (err)=>{\n            if (err) {\n                return res.status(500).json({\n                    error: \"Erro ao processar o upload do arquivo\"\n                });\n            }\n            try {\n                await (0,_utils_whatsappClient__WEBPACK_IMPORTED_MODULE_5__.initialize)();\n                await (0,_utils_whatsappClient__WEBPACK_IMPORTED_MODULE_5__.waitForReady)();\n            } catch (error) {\n                console.error(\"Erro ao esperar pelo cliente WhatsApp:\", error);\n                return res.status(500).json({\n                    error: \"Cliente WhatsApp n\\xe3o est\\xe1 pronto\"\n                });\n            }\n            const { clientesSelecionados, mensagem } = req.body;\n            console.log(\"Dados recebidos:\");\n            console.log(\"Clientes selecionados:\", clientesSelecionados);\n            console.log(\"Mensagem:\", mensagem);\n            console.log(\"Arquivo:\", req.file);\n            if (!clientesSelecionados || !mensagem) {\n                return res.status(400).json({\n                    error: \"Faltam dados para o envio da mensagem\"\n                });\n            }\n            const clientes = JSON.parse(clientesSelecionados);\n            let media;\n            if (req.file) {\n                const fileData = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(req.file.path);\n                const base64Data = fileData.toString(\"base64\");\n                media = new whatsapp_web_js__WEBPACK_IMPORTED_MODULE_2__.MessageMedia(\"image/png\", base64Data, path__WEBPACK_IMPORTED_MODULE_4___default().basename(req.file.originalname));\n            }\n            // Envia a resposta imediatamente\n            res.status(200).json({\n                message: \"Mensagens enfileiradas para envio\"\n            });\n            // Processa as mensagens em segundo plano\n            (async ()=>{\n                for (const cliente of clientes){\n                    await enviarMensagemComAtraso(cliente, mensagem, media);\n                }\n                // Remover o arquivo temporário após o envio\n                if (req.file) {\n                    fs__WEBPACK_IMPORTED_MODULE_3___default().unlinkSync(req.file.path);\n                }\n                console.log(\"Todas as mensagens foram enviadas.\");\n            })().catch((error)=>{\n                console.error(\"Erro ao enviar mensagens:\", error);\n            });\n        });\n    } else {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsNkJBQTZCQTtZQUMvQztRQUNKO0lBQ0osT0FBTztRQUNITSxJQUFJc0IsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFPO1FBQy9CdEIsSUFBSUssTUFBTSxDQUFDLEtBQUtrQixHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUV4QixJQUFJRSxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQzFEO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlbGlnZW5jaWFhcnRpZmljaWFsZ3J1cG9sZXRoYW4vLi9wYWdlcy9hcGkvZW52aWFyLW1lbnNhZ2VtLnRzPzJkMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydCB7IHBhcnNlUGhvbmVOdW1iZXIgfSBmcm9tICdsaWJwaG9uZW51bWJlci1qcyc7XHJcbmltcG9ydCB7IE1lc3NhZ2VNZWRpYSB9IGZyb20gJ3doYXRzYXBwLXdlYi5qcyc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyBpbml0aWFsaXplLCBzZW5kTWVzc2FnZSwgd2FpdEZvclJlYWR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvd2hhdHNhcHBDbGllbnQnO1xyXG5cclxuLy8gQWRpY2lvbmUgZXN0YSBpbnRlcmZhY2VcclxuaW50ZXJmYWNlIE5leHRBcGlSZXF1ZXN0V2l0aEZpbGUgZXh0ZW5kcyBOZXh0QXBpUmVxdWVzdCB7XHJcbiAgICBmaWxlPzogRXhwcmVzcy5NdWx0ZXIuRmlsZTtcclxufVxyXG5cclxuLy8gQ29uZmlndXJhw6fDo28gZG8gbXVsdGVyXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IGRlc3Q6ICcvdG1wJyB9KTtcclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgZ2VyYXIgdW0gYXRyYXNvIGFsZWF0w7NyaW8gZW50cmUgNSBlIDEwIG1pbnV0b3MgKGVtIG1pbGlzc2VndW5kb3MpXHJcbmNvbnN0IGF0cmFzb0FsZWF0b3JpbyA9ICgpID0+IHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoNjAwMDAwIC0gMzAwMDAwICsgMSkgKyAzMDAwMDApOyAvLyAzMDAwMDBtcyA9IDVtaW4sIDYwMDAwMG1zID0gMTBtaW5cclxufTtcclxuXHJcbi8vIEZ1bsOnw6NvIGRlIGVzcGVyYSBibG9xdWVhbnRlXHJcbmNvbnN0IGVzcGVyYUJsb3F1ZWFudGUgPSAobXM6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgaW5pY2lvID0gRGF0ZS5ub3coKTtcclxuICAgIHdoaWxlIChEYXRlLm5vdygpIC0gaW5pY2lvIDwgbXMpIHtcclxuICAgICAgICAvLyBFc3BlcmEgYXRpdmFtZW50ZVxyXG4gICAgfVxyXG59O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZW52aWFyTWVuc2FnZW1Db21BdHJhc28oY2xpZW50ZTogYW55LCBtZW5zYWdlbTogc3RyaW5nLCBtZWRpYT86IE1lc3NhZ2VNZWRpYSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwaG9uZU51bWJlciA9IHBhcnNlUGhvbmVOdW1iZXIoY2xpZW50ZS5udW1lcm8sICdCUicpO1xyXG4gICAgICAgIGlmICghcGhvbmVOdW1iZXIgfHwgIXBob25lTnVtYmVyLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE7Dum1lcm8gZGUgdGVsZWZvbmUgaW52w6FsaWRvOiAke2NsaWVudGUubnVtZXJvfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBwaG9uZU51bWJlci5mb3JtYXQoJ0UuMTY0Jykuc2xpY2UoMSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnNhZ2VtRmluYWwgPSBtZW5zYWdlbS5yZXBsYWNlKCd7bGlua30nLCBjbGllbnRlLmxpbmspO1xyXG5cclxuICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBpbml0aWFsaXplKCk7XHJcbiAgICAgICAgaWYgKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zZW5kTWVzc2FnZShgJHtmb3JtYXR0ZWROdW1iZXJ9QGMudXNgLCBtZWRpYSwgeyBjYXB0aW9uOiBtZW5zYWdlbUZpbmFsIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zZW5kTWVzc2FnZShgJHtmb3JtYXR0ZWROdW1iZXJ9QGMudXNgLCBtZW5zYWdlbUZpbmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBNZW5zYWdlbSBlbnZpYWRhIHBhcmEgJHtjbGllbnRlLm5vbWV9ICgke2Zvcm1hdHRlZE51bWJlcn0pIGVtICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGF0cmFzbyA9IGF0cmFzb0FsZWF0b3JpbygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBBZ3VhcmRhbmRvICR7YXRyYXNvIC8gNjAwMDB9IG1pbnV0b3MgYW50ZXMgZG8gcHLDs3hpbW8gZW52aW8uIEhvcmEgYXR1YWw6ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWApO1xyXG4gICAgICAgIGVzcGVyYUJsb3F1ZWFudGUoYXRyYXNvKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXNwZXJhIGNvbmNsdcOtZGEuIEhvcmEgYXR1YWw6ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvIGFvIGVudmlhciBtZW5zYWdlbSBwYXJhICR7Y2xpZW50ZS5ub21lfTpgLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgICBhcGk6IHtcclxuICAgICAgICBib2R5UGFyc2VyOiBmYWxzZSxcclxuICAgIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3RXaXRoRmlsZSwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgICAgICBjb25zdCBtdWx0ZXJNaWRkbGV3YXJlID0gdXBsb2FkLnNpbmdsZSgnaW1hZ2VtJyk7XHJcblxyXG4gICAgICAgIG11bHRlck1pZGRsZXdhcmUocmVxIGFzIGFueSwgcmVzIGFzIGFueSwgYXN5bmMgKGVycikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm8gYW8gcHJvY2Vzc2FyIG8gdXBsb2FkIGRvIGFycXVpdm8nIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgd2FpdEZvclJlYWR5KCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGVzcGVyYXIgcGVsbyBjbGllbnRlIFdoYXRzQXBwOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQ2xpZW50ZSBXaGF0c0FwcCBuw6NvIGVzdMOhIHByb250bycgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY2xpZW50ZXNTZWxlY2lvbmFkb3MsIG1lbnNhZ2VtIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYWRvcyByZWNlYmlkb3M6Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnRlcyBzZWxlY2lvbmFkb3M6JywgY2xpZW50ZXNTZWxlY2lvbmFkb3MpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTWVuc2FnZW06JywgbWVuc2FnZW0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXJxdWl2bzonLCByZXEuZmlsZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWNsaWVudGVzU2VsZWNpb25hZG9zIHx8ICFtZW5zYWdlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdGYWx0YW0gZGFkb3MgcGFyYSBvIGVudmlvIGRhIG1lbnNhZ2VtJyB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgY2xpZW50ZXMgPSBKU09OLnBhcnNlKGNsaWVudGVzU2VsZWNpb25hZG9zKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtZWRpYTogTWVzc2FnZU1lZGlhIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVEYXRhID0gZnMucmVhZEZpbGVTeW5jKHJlcS5maWxlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IGZpbGVEYXRhLnRvU3RyaW5nKCdiYXNlNjQnKTtcclxuICAgICAgICAgICAgICAgIG1lZGlhID0gbmV3IE1lc3NhZ2VNZWRpYSgnaW1hZ2UvcG5nJywgYmFzZTY0RGF0YSwgcGF0aC5iYXNlbmFtZShyZXEuZmlsZS5vcmlnaW5hbG5hbWUpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRW52aWEgYSByZXNwb3N0YSBpbWVkaWF0YW1lbnRlXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ01lbnNhZ2VucyBlbmZpbGVpcmFkYXMgcGFyYSBlbnZpbycgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9jZXNzYSBhcyBtZW5zYWdlbnMgZW0gc2VndW5kbyBwbGFub1xyXG4gICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjbGllbnRlIG9mIGNsaWVudGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZW52aWFyTWVuc2FnZW1Db21BdHJhc28oY2xpZW50ZSwgbWVuc2FnZW0sIG1lZGlhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVyIG8gYXJxdWl2byB0ZW1wb3LDoXJpbyBhcMOzcyBvIGVudmlvXHJcbiAgICAgICAgICAgICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcy51bmxpbmtTeW5jKHJlcS5maWxlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb2RhcyBhcyBtZW5zYWdlbnMgZm9yYW0gZW52aWFkYXMuJyk7XHJcbiAgICAgICAgICAgIH0pKCkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBlbnZpYXIgbWVuc2FnZW5zOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQT1NUJ10pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIm11bHRlciIsInBhcnNlUGhvbmVOdW1iZXIiLCJNZXNzYWdlTWVkaWEiLCJmcyIsInBhdGgiLCJpbml0aWFsaXplIiwid2FpdEZvclJlYWR5IiwidXBsb2FkIiwiZGVzdCIsImF0cmFzb0FsZWF0b3JpbyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImVzcGVyYUJsb3F1ZWFudGUiLCJtcyIsImluaWNpbyIsIkRhdGUiLCJub3ciLCJlbnZpYXJNZW5zYWdlbUNvbUF0cmFzbyIsImNsaWVudGUiLCJtZW5zYWdlbSIsIm1lZGlhIiwicGhvbmVOdW1iZXIiLCJudW1lcm8iLCJpc1ZhbGlkIiwiRXJyb3IiLCJmb3JtYXR0ZWROdW1iZXIiLCJmb3JtYXQiLCJzbGljZSIsIm1lbnNhZ2VtRmluYWwiLCJyZXBsYWNlIiwibGluayIsImNsaWVudCIsInNlbmRNZXNzYWdlIiwiY2FwdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJub21lIiwidG9JU09TdHJpbmciLCJhdHJhc28iLCJlcnJvciIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwibXVsdGVyTWlkZGxld2FyZSIsInNpbmdsZSIsImVyciIsInN0YXR1cyIsImpzb24iLCJjbGllbnRlc1NlbGVjaW9uYWRvcyIsImJvZHkiLCJmaWxlIiwiY2xpZW50ZXMiLCJKU09OIiwicGFyc2UiLCJmaWxlRGF0YSIsInJlYWRGaWxlU3luYyIsImJhc2U2NERhdGEiLCJ0b1N0cmluZyIsImJhc2VuYW1lIiwib3JpZ2luYWxuYW1lIiwibWVzc2FnZSIsInVubGlua1N5bmMiLCJjYXRjaCIsInNldEhlYWRlciIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/enviar-mensagem.ts\n");

/***/ }),

/***/ "(api)/./utils/whatsappClient.ts":
/*!*********************************!*\
  !*** ./utils/whatsappClient.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initialize: () => (/* binding */ initialize),\n/* harmony export */   sendMessage: () => (/* binding */ sendMessage),\n/* harmony export */   waitForReady: () => (/* binding */ waitForReady),\n/* harmony export */   whatsappEvents: () => (/* binding */ whatsappEvents)\n/* harmony export */ });\n/* harmony import */ var whatsapp_web_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! whatsapp-web.js */ \"whatsapp-web.js\");\n/* harmony import */ var whatsapp_web_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(whatsapp_web_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst whatsappEvents = new (events__WEBPACK_IMPORTED_MODULE_1___default())();\nlet client;\nasync function initialize() {\n    if (!client) {\n        console.log(\"Iniciando inicializa\\xe7\\xe3o do cliente WhatsApp...\");\n        client = new whatsapp_web_js__WEBPACK_IMPORTED_MODULE_0__.Client({\n            authStrategy: new whatsapp_web_js__WEBPACK_IMPORTED_MODULE_0__.LocalAuth(),\n            puppeteer: {\n                headless: true,\n                args: [\n                    \"--no-sandbox\",\n                    \"--disable-setuid-sandbox\"\n                ]\n            }\n        });\n        client.on(\"qr\", (qr)=>{\n            console.log(\"QR Code gerado:\", qr);\n        });\n        client.on(\"ready\", ()=>{\n            console.log(\"Cliente WhatsApp est\\xe1 pronto!\");\n        });\n        console.log(\"Chamando client.initialize()...\");\n        await client.initialize();\n    }\n    return client;\n}\nasync function sendMessage(to, message) {\n    if (!client) {\n        await initialize();\n    }\n    return client.sendMessage(to, message);\n}\nasync function waitForReady() {\n    if (!client) {\n        await initialize();\n    }\n    return new Promise((resolve)=>{\n        if (client.info) {\n            resolve(true);\n        } else {\n            client.once(\"ready\", ()=>resolve(true));\n        }\n    });\n} // ... resto do código ...\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy93aGF0c2FwcENsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFvRDtBQUNsQjtBQUUzQixNQUFNRyxpQkFBaUIsSUFBSUQsK0NBQVlBLEdBQUc7QUFFakQsSUFBSUU7QUFFRyxlQUFlQztJQUNwQixJQUFJLENBQUNELFFBQVE7UUFDWEUsUUFBUUMsR0FBRyxDQUFDO1FBQ1pILFNBQVMsSUFBSUosbURBQU1BLENBQUM7WUFDbEJRLGNBQWMsSUFBSVAsc0RBQVNBO1lBQzNCUSxXQUFXO2dCQUNUQyxVQUFVO2dCQUNWQyxNQUFNO29CQUFDO29CQUFnQjtpQkFBMkI7WUFDcEQ7UUFDRjtRQUVBUCxPQUFPUSxFQUFFLENBQUMsTUFBTSxDQUFDQztZQUNmUCxRQUFRQyxHQUFHLENBQUMsbUJBQW1CTTtRQUNqQztRQUVBVCxPQUFPUSxFQUFFLENBQUMsU0FBUztZQUNqQk4sUUFBUUMsR0FBRyxDQUFDO1FBQ2Q7UUFFQUQsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTUgsT0FBT0MsVUFBVTtJQUN6QjtJQUNBLE9BQU9EO0FBQ1Q7QUFFTyxlQUFlVSxZQUFZQyxFQUFVLEVBQUVDLE9BQWU7SUFDM0QsSUFBSSxDQUFDWixRQUFRO1FBQ1gsTUFBTUM7SUFDUjtJQUNBLE9BQU9ELE9BQU9VLFdBQVcsQ0FBQ0MsSUFBSUM7QUFDaEM7QUFFTyxlQUFlQztJQUNwQixJQUFJLENBQUNiLFFBQVE7UUFDWCxNQUFNQztJQUNSO0lBQ0EsT0FBTyxJQUFJYSxRQUFRLENBQUNDO1FBQ2xCLElBQUlmLE9BQU9nQixJQUFJLEVBQUU7WUFDZkQsUUFBUTtRQUNWLE9BQU87WUFDTGYsT0FBT2lCLElBQUksQ0FBQyxTQUFTLElBQU1GLFFBQVE7UUFDckM7SUFDRjtBQUNGLEVBRUEsMEJBQTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZWxpZ2VuY2lhYXJ0aWZpY2lhbGdydXBvbGV0aGFuLy4vdXRpbHMvd2hhdHNhcHBDbGllbnQudHM/OGYzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbGllbnQsIExvY2FsQXV0aCB9IGZyb20gJ3doYXRzYXBwLXdlYi5qcyc7XHJcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCB3aGF0c2FwcEV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbmxldCBjbGllbnQ6IENsaWVudDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gIGlmICghY2xpZW50KSB7XHJcbiAgICBjb25zb2xlLmxvZygnSW5pY2lhbmRvIGluaWNpYWxpemHDp8OjbyBkbyBjbGllbnRlIFdoYXRzQXBwLi4uJyk7XHJcbiAgICBjbGllbnQgPSBuZXcgQ2xpZW50KHtcclxuICAgICAgYXV0aFN0cmF0ZWd5OiBuZXcgTG9jYWxBdXRoKCksXHJcbiAgICAgIHB1cHBldGVlcjoge1xyXG4gICAgICAgIGhlYWRsZXNzOiB0cnVlLFxyXG4gICAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94JywgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCddXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNsaWVudC5vbigncXInLCAocXIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1FSIENvZGUgZ2VyYWRvOicsIHFyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNsaWVudC5vbigncmVhZHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDbGllbnRlIFdoYXRzQXBwIGVzdMOhIHByb250byEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdDaGFtYW5kbyBjbGllbnQuaW5pdGlhbGl6ZSgpLi4uJyk7XHJcbiAgICBhd2FpdCBjbGllbnQuaW5pdGlhbGl6ZSgpO1xyXG4gIH1cclxuICByZXR1cm4gY2xpZW50O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UodG86IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgaWYgKCFjbGllbnQpIHtcclxuICAgIGF3YWl0IGluaXRpYWxpemUoKTtcclxuICB9XHJcbiAgcmV0dXJuIGNsaWVudC5zZW5kTWVzc2FnZSh0bywgbWVzc2FnZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yUmVhZHkoKSB7XHJcbiAgaWYgKCFjbGllbnQpIHtcclxuICAgIGF3YWl0IGluaXRpYWxpemUoKTtcclxuICB9XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBpZiAoY2xpZW50LmluZm8pIHtcclxuICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNsaWVudC5vbmNlKCdyZWFkeScsICgpID0+IHJlc29sdmUodHJ1ZSkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyAuLi4gcmVzdG8gZG8gY8OzZGlnbyAuLi5cclxuIl0sIm5hbWVzIjpbIkNsaWVudCIsIkxvY2FsQXV0aCIsIkV2ZW50RW1pdHRlciIsIndoYXRzYXBwRXZlbnRzIiwiY2xpZW50IiwiaW5pdGlhbGl6ZSIsImNvbnNvbGUiLCJsb2ciLCJhdXRoU3RyYXRlZ3kiLCJwdXBwZXRlZXIiLCJoZWFkbGVzcyIsImFyZ3MiLCJvbiIsInFyIiwic2VuZE1lc3NhZ2UiLCJ0byIsIm1lc3NhZ2UiLCJ3YWl0Rm9yUmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImluZm8iLCJvbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/whatsappClient.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenviar-mensagem&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cenviar-mensagem.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();